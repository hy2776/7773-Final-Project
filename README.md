# Predicting Federal Fund Rate Changes

## Table of Contents
1. Project Description
2. Installation
3. Data Understanding
4. Code Description
5. Experiments
6. Licensing, Authors, Acknowledgements

## 1. Project Description
This project aims to predict changes in the Federal Fund Rate using a variety of data analysis and machine learning techniques. The project includes exploratory data analysis of both textual and non-textual data, sentiment analysis, and predictive modeling using Random Forest.
Federal funds rate is the interest rate used between banks. It dictates all other rates, such as loans and mortgages. From an investment perspective, it's important to know what the Fed will do to make better investment decisions. For example, when the Fed cuts rates, it's a good time to buy.

## 2. Installation
#### Libraries
We use Rye to build a virtual environment, required libraries are described in pyproject.toml. Python version is defined in .python-version. Before running the project, run the following code in terminal to synchronize all packages.
```
rye sync
```
#### To run our project
1. do ```git pull```
2. Run first our Flow.py file from the src folder
3. Then run App.py which will open up streamlit
   
#### Downloaded input data
1. Get statement from FOMC Website (https://www.federalreserve.gov/monetarypolicy/fomc.htm). Move to src directory `cd src`. Specify document type: statement. You can also specify from year.
   `python FomcGetData.py statement 1980`

2. Get economic indices from FRED Website (https://fred.stlouisfed.org/) and Bloomberg terminal.

3. Downloaded Sentiment Dictionary in data/LoughranMcDonald directory in csv
   * Loughran and McDonald Sentiment Word Lists (https://sraf.nd.edu/loughranmcdonald-master-dictionary/) 

4. Downloaded Stopwords list in data/Wordlist directory in txt
   * StopWords Generic (https://sraf.nd.edu/textual-analysis/stopwords/)


## 3. Data Understanding
Text data is scraped from FOMC Website. Other economic and market data are downloaded from FRB of St. Louis website (FRED)
Data used for each prediction are only those available before the meeting.

#### Text Data
* FOMC/statement - Statement text along with dates. Each text is also available in the directory with the same name. Statements are available post press conference for almost all meetings, which include rate decision and target rate. From 2008, target rate became a range instead of a single value.


#### Market Data
each column's meaning are listed as follows:
* FEDFUNDS: from FRED, federal funds rate decided by FOMC
* Target: percent change in fed rate
* Target_category: increase, decrease, hold according to percent change
* PCE: from FRED, Personal Consumption Expenditures Excluding Food and Energy (Chain-Type Price Index), Index 2017=100, Monthly, Seasonally Adjusted, a measure of the prices that people living in the United States, or those buying on their behalf, pay for goods and services
* Consumer_Sentiment: from FRED, Consumer Opinion Surveys: Confidence Indicators: Composite Indicators: OECD Indicator for United States, Normalised (Normal=100), Monthly, Seasonally Adjusted
* Supply_NewHouse: from FRED, Monthly Supply of New Houses in the United States, Months' Supply, Monthly, Seasonally Adjusted, The months' supply is the ratio of new houses for sale to new houses sold
* CPI: from FRED, Consumer Price Index for All Urban Consumers: All Items in U.S. City Average, Index 1982-1984=100, Monthly, Seasonally Adjusted
* ISM PMI: from FRED, The ISM manufacturing index, also known as the purchasing managers' index (PMI), is a monthly indicator of U.S. economic activity based on a survey of purchasing managers at more than 300 manufacturing firms. It is considered to be a key indicator of the state of the U.S. economy.
* Housing_starts: from FRED, New Privately-Owned Housing Units Authorized in Permit-Issuing Places: Total Units, Thousands of Units, Monthly, Seasonally Adjusted Annual Rate
* Unemp_rate: from FRED, Unemployment Rate, Percent, Monthly, Seasonally Adjusted
* SPX: monthly average S&P 500 index value
* 10y_try: monthly average 10 year US Treasury Yield



## 4. Code Description
#### 1_EDA_nontext.ipynb
Take a glance at economic indices to show their distributions and correlations

#### 2_EDA_text.ipynb
Use Loughran and McDonald sentiment word dictionary to count positive and negative words and calculate a sentiment score in each statement and do some visualization.

#### 3_Sentiment_model
Use a pretrained BERT sentiment analysis model on financial news to get sentiment (positive / negative / neutral), and combine the sentiment score generated by 2_EDA_text.ipynb and sentiment with other numerical features. Make sure to run this notebook to download sentiment model locally.

#### 4_RandomForest_model.ipynb
Try different models and decide to use randomforest as our final model in flow.

#### Flow.py + Flow_utils.py
Randomforest flow with some utility funcions to keep the flow simple. Run Flow.py first, and then run App.py

#### App.py + App_utils.py
App built with streamlit with some utility functions to keep the app simple

#### FomcGetData.py + CleanStatements.py
scrape statements from FOMC website and clean the text (removing header, rooters and do some filtering)

## 5. Experiments
The metrics and confusion matrix of baseline model and rolling window model are recorded in comet. To make it simple, we delete previous many experiments. Here is the link: https://www.comet.com/nyu-fre-7773-2021/hy2776-project/view/new/panels

## 6. Licensing, Authors, Acknowledgements
Data attributes to the source (FRED, ISM, US Treasury). Loughran McDonald dictionary attributes to https://sraf.nd.edu/textual-analysis/resources/ in University of Notre Dame.
Feel free to use the source code as you would like!
